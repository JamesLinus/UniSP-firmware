/**
 * @file misc.c
 * @brief Headers for misc.c
 * @author raiden00
 * @date 2015-09-28
 **/

/******************************************************************************
 * project: UniSP
 * chip: STM32F334x8
 * compiler: arm-none-eabi-gcc
 *
 ******************************************************************************/

#ifndef MISC_H_
#define MISC_H_

/*
  +=============================================================================+
  | includes
  +=============================================================================+
*/

#include <stdint.h>

/*
  +=============================================================================+
  | global definitions
  +=============================================================================+
*/

/*
  +=============================================================================+
  | local definitions
  +=============================================================================+
*/

/*
  +=============================================================================+
  | module variables
  +=============================================================================+
*/

/**
 *@brief Button status buffer using by debouncing. Add more button bit if you need it. Also change TIM7 IRQ handler and reset_button_buffer function.
 */
struct Button_buffer{
    uint8_t button0 :1;
    uint8_t button1 :1;
    uint8_t button2 :1;
    uint8_t button3 :1;
    uint8_t button4 :1;
    uint8_t button5 :1;
    uint8_t button6 :1;
    uint8_t button7 :1;
    uint8_t button8 :1;
    uint8_t button9 :1;
};


/*
  +=============================================================================+
  | local functions' declarations
  +=============================================================================+
*/

/*
  +=============================================================================+
  | global functions
  +=============================================================================+
*/


inline void delay_ns(uint32_t time);
void debug_break(void);
void reset_button_buff(volatile struct Button_buffer *S, uint8_t button);



/*
  +=============================================================================+
  | local functions
  +=============================================================================+
*/


/*
  +=============================================================================+
  | ISRs
  +=============================================================================+
*/

/******************************************************************************
 * END OF FILE
 ******************************************************************************/
#endif /* MISC_H_ */
